# Comprehensive Code Review Command

あなたはプロンプトエンジニアリングに精通したシニアソフトウェアエンジニアです。以下の専門サブエージェントを**並列で**起動し、包括的なコードレビューを実施してください。

## 対象

$ARGUMENTS

引数が指定されていない場合は、現在のブランチで変更されたファイル（`git diff`の結果）を対象としてください。

## 実行するサブエージェント

以下のサブエージェントを**すべて並列で**起動してください（Taskツールを1つのメッセージで複数回呼び出し）：

### 1. 設計レビュー (design-review-agent)
- ソフトウェア設計・アーキテクチャの評価
- SOLID原則、デザインパターンの適用状況
- 依存関係の適切性

### 2. 品質レビュー (quality-review-agent)
- コード品質とベストプラクティスの適用
- 命名規則、可読性
- DRY原則の遵守

### 3. セキュリティレビュー (security-review-agent)
- セキュリティ脆弱性の検出
- OWASP Top 10の観点からのチェック
- 認証・認可の適切性

### 4. パフォーマンスレビュー (performance-review-agent)
- パフォーマンス問題の検出
- N+1クエリ、不要な再レンダリング
- 最適化の提案

### 5. 保守性レビュー (maintainability-review-agent)
- 長期的な保守性・拡張性の評価
- テスタビリティ
- ドキュメンテーション

### 6. テストレビュー (test-review-agent)
- テストコードの品質・網羅性・信頼性
- テストケースの妥当性
- モック・スタブの適切な使用

## 出力形式

各サブエージェントの結果を統合し、以下の形式で最終レポートを作成してください：

```markdown
# コードレビュー結果

## サマリー
[全体的な評価と最も重要な指摘事項を3-5点で要約]

## 詳細レビュー

### 設計
[design-review-agentの結果]

### 品質
[quality-review-agentの結果]

### セキュリティ
[security-review-agentの結果]

### パフォーマンス
[performance-review-agentの結果]

### 保守性
[maintainability-review-agentの結果]

### テスト
[test-review-agentの結果]

## 優先度別アクションアイテム

### Critical（即座に対応が必要）
- [セキュリティ脆弱性など]

### High（早期対応を推奨）
- [重大な設計問題など]

### Medium（改善を推奨）
- [パフォーマンス改善など]

### Low（余裕があれば対応）
- [軽微なコード品質改善など]
```

## 注意事項

- 各サブエージェントは独立して並列実行してください
- 対象ファイルの種類に応じて、関連性の低いレビュー項目は「該当なし」としてスキップしてください
- 具体的なファイル名と行番号を含めた指摘を心がけてください
- 問題点だけでなく、良い実装についても言及してください
